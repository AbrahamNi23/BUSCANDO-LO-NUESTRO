<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Buscando Lo Nuestro - Revista Interactiva</title>

<!-- jQuery y Turn.js desde CDN -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/blasten/turn.js/turn.min.js"></script>

<style>
  :root{
    --cover-bg: #111;
    --ink: #111;
    --paper: #fff;
    --accent: #4cc9f0;
  }
  body{ 
    margin:0; 
    background:#1a1a1a; 
    color:#fff; 
    font-family:system-ui, sans-serif; 
    overflow-x: hidden;
  }
  .wrap{
    width:100%;
    height:100vh;
    display:flex; 
    align-items:center; 
    justify-content:center;
    padding: 20px 0;
    box-sizing: border-box;
  }

  /* Contenedor del libro (se auto-centra) */
  #magazine{
    width:95vw;
    height:80vh;
    max-width: 1400px;
    box-shadow:0 20px 50px rgba(0,0,0,0.6);
    background:#222;
    border-radius:8px;
    margin: 0 auto;
  }

  /* Cada página interna (Turn.js las posiciona) */
  .page{
    width:47.5vw;   /* ancho de cada página individual */
    height:80vh;    /* alto de cada página */
    background:var(--paper);
    color:var(--ink);
    overflow:hidden;
    position: relative;
  }

  .page__inner{
    width:100%;
    height:100%;
    display:flex;
    flex-direction: column;
    align-items:center;
    justify-content:center;
    padding:0;
  }
  
  .page img {
    width:100%;
    height:100%;
    object-fit: contain;
    display:block;
  }

  .cover{
    display:flex; 
    align-items:center; 
    justify-content:center;
    background:linear-gradient(135deg, #0f172a, #1e293b);
    color:#e2e8f0;
    text-align: center;
  }
  
  .cover h1{ 
    font-size:2.4rem; 
    margin: 0;
    padding: 0 20px;
  }
  
  .cover p {
    margin-top: 1rem;
    font-size: 1.2rem;
  }

  .controls{
    position:fixed; 
    bottom:20px; 
    left:50%; 
    transform:translateX(-50%);
    display:flex; 
    gap:0.75rem;
    z-index: 100;
  }
  
  .btn{
    padding:0.6rem 1rem; 
    border:none; 
    border-radius:8px;
    background:var(--accent); 
    color:#072a38; 
    font-weight:700; 
    cursor:pointer;
    transition: all 0.2s ease;
  }
  
  .btn:hover {
    background: #3ab9e0;
    transform: translateY(-2px);
  }
  
  .btn.disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  
  .btn.disabled:hover {
    background: var(--accent);
    transform: none;
  }
  
  .page-number {
    position: absolute;
    bottom: 10px;
    right: 10px;
    background: rgba(0,0,0,0.7);
    color: white;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 14px;
    font-weight: bold;
  }

  .loading {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #666;
    font-size: 18px;
  }

  @media (max-width:768px){
    .wrap {
      padding: 10px 0;
    }
    
    #magazine{ 
      width:98vw; 
      height:75vh; 
    }
    
    .page{ 
      width:49vw; 
      height:75vh; 
    }
    
    .cover h1 {
      font-size: 1.8rem;
    }
    
    .cover p {
      font-size: 1rem;
    }
    
    .page-number {
      font-size: 12px;
      padding: 3px 6px;
    }
  }
</style>
</head>
<body>
<div class="wrap">
  <!-- El contenedor que Turn.js usará -->
  <div id="magazine">
    <!-- Las páginas se generarán dinámicamente con JavaScript -->
  </div>
</div>

<div class="controls">
  <button class="btn" id="prev">‹ Anterior</button>
  <button class="btn" id="next">Siguiente ›</button>
</div>

<script>
  $(function(){
    // Array con todas las URLs de las imágenes actualizadas
    const imageUrls = [
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0001.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0002.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0003.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0004.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0005.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0006.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0007.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0008.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0009.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0010.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0011.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0012.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0013.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0014.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0015.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0016.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0017.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0018.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0019.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0020.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0021.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0022.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0023.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0024.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0025.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0026.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0027.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0028.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0029.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0030.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0031.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0032.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0033.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0034.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0035.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0036.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0037.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0038.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0039.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0040.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0041.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0042.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0043.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0044.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0045.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0046.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0047.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0048.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0049.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0050.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0051.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0052.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0053.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0054.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0055.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0056.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0057.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0058.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0059.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0060.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0061.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0062.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0063.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0064.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0065.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0066.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0067.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0068.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0069.jpg',
      'https://raw.githubusercontent.com/AbrahamNi23/BUSCANDO-LO-NUESTRO/refs/heads/main/assets/BUSCANDO%20LO%20NUESTRO_page-0070.jpg'
    ];
    
    const magazine = $('#magazine');
    
    // Generar todas las páginas dinámicamente
    imageUrls.forEach((url, index) => {
      const pageNumber = index + 1;
      const pageDiv = $('<div class="page"></div>');
      const innerDiv = $('<div class="page__inner"></div>');
      
      // Añadir indicador de carga
      const loadingDiv = $('<div class="loading">Cargando...</div>');
      innerDiv.append(loadingDiv);
      
      const img = $(`<img src="${url}" alt="Página ${pageNumber}" style="display:none;">`);
      const pageNumberDiv = $(`<div class="page-number">${pageNumber}</div>`);
      
      // Cuando la imagen cargue, mostrarla y ocultar el indicador
      img.on('load', function() {
        $(this).show();
        loadingDiv.hide();
      });
      
      img.on('error', function() {
        loadingDiv.text('Error al cargar imagen');
      });
      
      innerDiv.append(img);
      innerDiv.append(pageNumberDiv);
      pageDiv.append(innerDiv);
      magazine.append(pageDiv);
    });
    
    // Calcular dimensiones manteniendo proporción 8.5:11
    function calculateDimensions() {
      const viewportWidth = $(window).width();
      const viewportHeight = $(window).height();
      
      // Ancho máximo para cada página (mitad del viewport con margen)
      const maxWidth = Math.min(viewportWidth * 0.95 / 2, 700);
      
      // Altura máxima (80% del viewport)
      const maxHeight = viewportHeight * 0.8;
      
      // Calcular altura manteniendo proporción 8.5:11
      const calculatedHeight = maxWidth * (11 / 8.5);
      
      // Si la altura calculada excede el máximo, ajustamos por altura
      if (calculatedHeight > maxHeight) {
        return {
          width: maxHeight * (8.5 / 11),
          height: maxHeight
        };
      }
      
      return {
        width: maxWidth,
        height: calculatedHeight
      };
    }
    
    const dimensions = calculateDimensions();
    
    // Inicializar Turn.js después de un pequeño retraso para asegurar que las imágenes estén cargando
    setTimeout(function() {
      magazine.turn({
        width: dimensions.width * 2,   // ancho total del spread (dos páginas)
        height: dimensions.height,      // alto del spread
        autoCenter: true,              // centra el libro en el contenedor
        display: 'double',             // doble página (como revista real)
        acceleration: true,             // optimiza animación
        gradients: true,                // sombras/pliegues
        elevation: 50,                  // "altura" del pliegue
        when: {
          turning: function(e, page, view) {
            // Actualizar controles según la página actual
            $('#prev').toggleClass('disabled', page === 1);
            $('#next').toggleClass('disabled', page === 70);
          }
        }
      });
      
      // Actualizar estado inicial de los botones
      $('#prev').addClass('disabled');
    }, 100);
    
    // Controles
    $('#next').on('click', function(){ 
      if (!$(this).hasClass('disabled')) {
        magazine.turn('next'); 
      }
    });
    
    $('#prev').on('click', function(){ 
      if (!$(this).hasClass('disabled')) {
        magazine.turn('previous'); 
      }
    });
    
    // Zonas clicables: derecha avanza, izquierda retrocede
    magazine.on('click', function(e){
      const rect = this.getBoundingClientRect();
      const x = e.clientX - rect.left;
      
      if (x > rect.width * 0.6) {
        magazine.turn('next');
      } else if (x < rect.width * 0.4) {
        magazine.turn('previous');
      }
    });
    
    // Teclado
    $(document).on('keydown', function(e){
      if (e.key === 'ArrowRight') {
        magazine.turn('next');
      } else if (e.key === 'ArrowLeft') {
        magazine.turn('previous');
      }
    });
    
    // Reajuste al cambiar tamaño
    $(window).on('resize', function(){
      const newDimensions = calculateDimensions();
      magazine.turn('size', newDimensions.width * 2, newDimensions.height);
      
      // Actualizar CSS para las páginas
      $('.page').css({
        width: newDimensions.width,
        height: newDimensions.height
      });
    });
  });
</script>
</body>
</html>
